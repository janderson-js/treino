<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui ="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">
	
<h:head>
	<title>Olá JSF</title>
</h:head>

<h:body>

	<h1>Cadastro JSF</h1>

	<h:form 
			id="formPerson" style="margin-bottom:80px;">
			
		<h:messages globalOnly="true"/>
		
		<h:messages id="toSaveMessage" autoUpdate="true" />
		
		
		<h:panelGrid columns="2">
			 
			<h:outputLabel for="id" value="ID: " />
			<h:inputText pt:placeholder="ID" value="#{personBean.person.id}" id="id" title="Mostra o id após usuário cadastrado"  readonly="true" />
			
			<h:outputLabel for="nome" value="Nome:"/>
			<h:inputText id="nome" value="#{personBean.person.name}" title="Nome do usúario"/>
			
			<h:outputLabel for="sobrenome" value="Sobrenome:"/>
			<h:inputText id="sobrenome" value="#{personBean.person.surname}" title="Sobrenome do usúario"/>
			
			<h:outputLabel for="idade" value="Idade:"/>
			<h:inputText id="idade" value="#{personBean.person.age}" title="Idade do usúario"/>
			
			<h:outputLabel for="login" value="Login:"/>
			<h:inputText id="login" value="#{personBean.person.userLogin}" title="Login do usúario"/>
			
			<h:outputLabel for="senha" value="Senha:"/>
			<h:inputSecret id="senha" value="#{personBean.person.userPassword}" title="Senha do usúario"/>
						
			<h:panelGroup style="display:flex;justify-content:flex-start;">
				<h:commandButton value="Salvar" action="#{personBean.toSave}" title="Salvar" />
				<h:commandButton value="Limpar" action="#{personBean.toClear}" title="Limpar"  />				
			</h:panelGroup>
		
		</h:panelGrid>
	</h:form>
		
	<h:form>
	
		<h:dataTable value="#{personBean.people}"  var="p" update="true" style="text-align:center;">
			<f:facet name="header">
				Tabela de Pessoas
			</f:facet>
			<h:column>
				<f:facet name="header">ID</f:facet>
				<h:outputLabel value="#{p.id}"/>
			</h:column>
			<h:column>
				<f:facet name="header">NOME</f:facet>
				<h:outputLabel value="#{p.name} #{p.surname}" />
			</h:column>
			<h:column>
				<f:facet name="header">IDADE</f:facet>
				<h:outputLabel value="#{p.age}" />
			</h:column>
			<h:column>
				<f:facet name="header">AÇÃO</f:facet>
				<h:panelGrid columns="2" >
					
					<h:commandLink  style="margin: 10px;" immediate="true" value="Editar"> 
					<f:setPropertyActionListener value="#{p}"
						target="#{personBean.person}"  />
					</h:commandLink>
					
					<h:commandLink  style="margin: 10px;" immediate="true" value="Deletar"> 
					<f:setPropertyActionListener value="#{p}"
						target="#{personBean.person}"  />
				</h:commandLink>
					
				</h:panelGrid>
			</h:column>
		</h:dataTable>
	
	</h:form>
	
</h:body>

</html>